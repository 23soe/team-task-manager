<template lang="pug">
.modal-overlay(v-if="visible")
  .modal-content
    h2 ğŸ“ ã‚¿ã‚¹ã‚¯ç·¨é›†

    label.label-text â¬œ ç›®æ¨™
    input(v-model="task.title", placeholder="ç›®æ¨™")

    label.label-text ğŸ“ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³
    textarea(v-model="task.contents", placeholder="å†…å®¹")

    label.label-text ğŸ“… ç· åˆ‡æ—¥
    input(type="date", v-model="task.dueDate")

    label.label-text
    .checkbox-group
    label.label-text.checkbox-item(v-for="user in props.users", :key="user.id")
      input(type="checkbox", :value="user.id", v-model="props.task.userIds")
      | ğŸ‘¤ {{ user.username }} æ§˜


    label.label-text ğŸ—‚ï¸
    select(v-model="task.category")
      option(value="") é¸æŠã—ã¦ãã ã•ã„
      option(value="æ¥­å‹™") æ¥­å‹™
      option(value="çµ„ç¹”") çµ„ç¹”
      option(value="å‹‰å¼·") å‹‰å¼·

    .modal-actions
      button(@click="$emit('save')") ä¿å­˜
      button(@click="$emit('cancel')") ã‚­ãƒ£ãƒ³ã‚»ãƒ«

</template>

<script setup>
const props = defineProps({
  task: Object,
  users: Array,
  visible: Boolean
})

const emit = defineEmits(['save', 'cancel'])
</script>

<style scoped>
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal-content {
  display: flex;
  flex-direction: column;
  background: black;
  padding: 3vh;
  border-radius: 10px;
  width: 50vw;
  max-width: 90%;
  text-align:left;
  gap: 5px; 
}

.modal-actions {
  margin-top: 20px;
  display: flex;
  justify-content: space-between;
}

.checkbox-group {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.checkbox-item {
  display: flex;
  align-items: center;
}
</style>